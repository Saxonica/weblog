<!DOCTYPE HTML><html xmlns="http://www.w3.org/1999/xhtml">
   <head><meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      
      <title>XML Schema Tests: progress report</title>
      <meta name="id" content="134">
      <meta name="author" content="Michael Kay">
      <meta name="pubdate" content="2007-01-23T14:18:44">
      <meta name="basename" content="xml_schema_tests_progress_report">
      <meta name="blog-id" content="3">
   <link rel="stylesheet" type="text/css" href="/css/blog.css"><link rel="stylesheet" type="text/css" href="/css/michael-kay.css"><meta name="viewport" content="width=device-width, initial-scale=1.0"></head>
   <body class="michael-kay"><header><div class="banner"><h1><a href="/mike/">Saxon diaries</a></h1><div class="tagline">Michael Kay’s blog</div></div><h2>XML Schema Tests: progress report</h2><aside class="nav"><div class="navlinks"><div id="search"><form action="https://www.google.com/search" target="_parent"><span>Search: </span><input size="20" name="as_q"><input type="hidden" name="hl" value="en"><input type="hidden" name="ie" value="UTF-8"><input type="hidden" name="btnG" value="Google+Search"><input type="hidden" name="as_qdr" value="all"><input type="hidden" name="as_occt" value="any"><input type="hidden" name="as_dt" value="i"><input type="hidden" name="as_sitesearch" value="blog.saxonica.com"></form></div><div id="blogroll"><a href="/mike/">Saxon diaries</a><br><a href="/oneil/">O’Neil Delpratt’s Blog</a><br><a href="/norm/">Saxon Chronicles</a><br><a href="/">Combined archives</a></div></div></aside><div class="byline"><span class="by">By </span><span class="name"><a href="/authors.html#michael-kay">Michael Kay</a></span><span class="on"> on </span><a href="/authors.html#michael-kay-D2007-01"><span class="date" time="2007-01-23T14:18:44">January&nbsp;23, 2007 at 02:18p.m.</span></a></div></header><main>
      
      <p>As reported in my previous posting, I've been working on the new XML Schema Test suite.
         Achieved a significant milestone today: all the tests in the Microsoft part of the
         test suite are now "done". That's around 14600 tests. Of these I have queried the
         results of 858 tests (you can find the bug reports in the W3C public bugzilla). Most
         of these are illegal regular expressions in supposedly valid schemas. Of the remainder,
         Saxon fails on 22 tests for known reasons, and passes on the remainder. </p>
      <p>The failures are essentially for three reasons: (a) hitting resource limits on large
         minOccurs/maxOccurs values; (b) Saxon has a better algorithm for testing type subsumption
         than the one in the spec (it's essentially anticipating the XML Schema 1.1 spec here),
         and (c) there are three tests in which a user-defined type is derived directly from
         xs:anySimpleType, and although the spec appears to allow this, it's not at all clear
         what it's supposed to mean, so Saxon disallows it.</p>
      <p>I had to fix quite a large number of Saxon bugs to get to this point, but they were
         almost all very obscure corner cases.</p>
      <p>Next step is to tackle the Sun and NIST tests. On past experience these will be easier.</p>
   </main><footer><div class="prev-uri"><a href="/mike/2007/01/how-not-to-fold-constants.html">How not to fold constants</a></div><div class="next-uri"><a href="/mike/2007/02/unexpected-flattery.html">Unexpected flattery</a></div></footer></body>
</html>