<!DOCTYPE HTML><html xmlns="http://www.w3.org/1999/xhtml">
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  
  <title>Saxon-JS 2.2</title>
  <meta name="author" content="Norm Tovey-Walsh">
  <meta name="pubdate" content="2021-05-11T12:00:00">
  <link rel="shortcut icon" href="/img/scicon-032.png" type="image/png">
<link rel="stylesheet" type="text/css" href="/css/blog.css"><link rel="stylesheet" type="text/css" href="/css/norm-tovey-walsh.css"><meta content="Saxon Chronicles (in a Norman style)" property="og:site_name"><meta content="https://blog.saxonica.com/img/sccard.png" property="og:image"><meta content="Norm Tovey-Walsh's Saxonica weblog." property="og:description"><meta content="https://blog.saxonica.com/norm" property="og:url"><meta content="600" property="og:image:width"><meta content="315" property="og:image:height"><meta content="Saxon-JS 2.2" property="og:title"><meta content="en_GB" property="og:locale"><meta content="website" property="og:type"><meta name="viewport" content="width=device-width, initial-scale=1.0"></head>
<body class="norm-tovey-walsh"><header><div class="banner"><h1><a href="/norm/">Saxon Chronicles</a></h1><div class="tagline">( in a Norman style )</div></div><h2>Saxon-JS 2.2</h2><aside class="nav"><div class="navlinks"><div id="search"><form action="https://www.google.com/search" target="_parent"><span>Search: </span><input size="20" name="as_q"><input type="hidden" name="hl" value="en"><input type="hidden" name="ie" value="UTF-8"><input type="hidden" name="btnG" value="Google+Search"><input type="hidden" name="as_qdr" value="all"><input type="hidden" name="as_occt" value="any"><input type="hidden" name="as_dt" value="i"><input type="hidden" name="as_sitesearch" value="blog.saxonica.com"></form></div><div id="blogroll"><a href="/">Home (combined archives)</a><br><a href="/announcements/">Announcements</a><br><a href="/mike/">Saxon diaries</a><br><a href="/oneil/">O’Neil Delpratt’s Blog</a><br><a href="/norm/">Saxon Chronicles</a></div></div></aside><div class="byline"><span class="by">By </span><span class="name"><a href="/authors.html#norm-tovey-walsh">Norm Tovey-Walsh</a></span><span class="on"> on </span><a href="/authors.html#norm-tovey-walsh-D2021-05"><span class="date" time="2021-05-11T12:00:00">May&nbsp;11, 2021 at 12:00p.m.</span></a></div></header><main>


<p>Saxon-JS 2.2
has been published on
<a href="https://saxonica.com/saxon-js/">Saxonica.com</a> and to the
<a href="https://www.npmjs.com/package/saxon-js">npm registry</a>!</p>

<p>This is a maintenance release that fixes a few bugs. The big one, to my mind, is resolving
the “global object” bug in Node.js. Previous releases of Saxon-JS always
created a global object named “<code>SaxonJS</code>”. This isn’t best practice on
Node.js and interfered with some platforms like
<a href="https://en.wikipedia.org/wiki/Electron_(software_framework)">Electron</a>
and <a href="https://en.wikipedia.org/wiki/Webpack">Webpack</a>.</p>

<p>Starting with 2.2, on Node.js, the global object no longer gets created.
If you’ve consistently used</p>

<pre><code>const SaxonJS = require('saxon-js');</code></pre>

<p>to load Saxon-JS, you’ll be fine. If you’ve used some other name
for the object, make sure that you refer to Saxon-JS exclusively by
that name. For example:</p>

<pre><code>const <b>sjs</b> = require('saxon-js');
const six = <b>sjs</b>.XPath.evaluate("3+3");
console.log(`six = ${six}`)</code></pre>

<p>We fixed a few other bugs as detailed in the
<a href="https://www.saxonica.com/saxon-js/documentation/index.html#!changes">change history</a>.
Thanks to everyone who took the time to report them!
</p>

</main><footer><div class="prev-uri"><a href="/mike/2021/03/saxon_cs_hello_world.html">Saxon-CS says Hello World</a></div><div class="next-uri"><a href="/mike/2021/06/arrays.html">What should we do about Arrays?</a></div></footer></body>
</html>