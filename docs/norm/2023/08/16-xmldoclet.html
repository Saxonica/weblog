<!DOCTYPE HTML><html xmlns="http://www.w3.org/1999/xhtml">
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  
  <title>XML doclet</title>
  <meta name="author" content="Norm Tovey-Walsh">
  <meta name="pubdate" content="2023-08-16T10:00:00">
  <link rel="shortcut icon" href="/img/scicon-032.png" type="image/png">
<link rel="stylesheet" type="text/css" href="/css/blog.css"><link rel="stylesheet" type="text/css" href="/css/norm-tovey-walsh.css"><meta content="Saxon Chronicles (in a Norman style)" property="og:site_name"><meta content="https://blog.saxonica.com/img/sccard.png" property="og:image"><meta content="Norm Tovey-Walsh's Saxonica weblog." property="og:description"><meta content="https://blog.saxonica.com/norm" property="og:url"><meta content="600" property="og:image:width"><meta content="315" property="og:image:height"><meta content="XML doclet" property="og:title"><meta content="en_GB" property="og:locale"><meta content="website" property="og:type"><meta name="viewport" content="width=device-width, initial-scale=1.0"></head>
<body class="norm-tovey-walsh"><header><div class="banner"><h1><a href="/norm/">Saxon Chronicles</a></h1><div class="tagline">( in a Norman style )</div></div><h2>XML doclet</h2><aside class="nav"><div class="navlinks"><div id="search"><form action="https://www.google.com/search" target="_parent"><span>Search: </span><input size="20" name="as_q"><input type="hidden" name="hl" value="en"><input type="hidden" name="ie" value="UTF-8"><input type="hidden" name="btnG" value="Google+Search"><input type="hidden" name="as_qdr" value="all"><input type="hidden" name="as_occt" value="any"><input type="hidden" name="as_dt" value="i"><input type="hidden" name="as_sitesearch" value="blog.saxonica.com"></form></div><div id="blogroll"><a href="/">Home (combined archives)</a><br><a href="/announcements/">Announcements</a><br><a href="/mike/">Saxon diaries</a><br><a href="/oneil/">O’Neil Delpratt’s Blog</a><br><a href="/norm/">Saxon Chronicles</a></div></div></aside><div class="byline"><span class="by">By </span><span class="name"><a href="/authors.html#norm-tovey-walsh">Norm Tovey-Walsh</a></span><span class="on"> on </span><a href="/authors.html#norm-tovey-walsh-D2023-08"><span class="date" time="2023-08-16T10:00:00">August&nbsp;16, 2023 at 10:00a.m.</span></a></div></header><main>


<p>Historically, we’ve used a customized version of
<a href="https://jeldoclet.sourceforge.net/">JELDoclet</a> to generate
XML from Javadoc. We use the XML to construct parts of our website.
The Javadoc APIs used by JELDoclet (and all of the other
Javadoc-to-XML doclets that I could lay my hands on) have been deprecated as of
Java 9 and will eventually be removed from the JDK.</p>

<p>On a whim last weekend, I took a stab at simply rebuilding an XML
doclet on top of the new Javadoc APIs. You can find the results of that
effort in the <a href="https://github.com/Saxonica/xmldoclet">xmldoclet</a> repository.
</p>

<p>It’s only version 0.1.0, but I think it’s broadly functional. It
handles all of the sources I’ve thrown at it, including the Saxon Java
products which are fairly large and complex. If you try it out and
discover that it produces output that seems incomplete or incorrect, please
<a href="https://github.com/Saxonica/xmldoclet/issues">open an issue</a>.</p>

<p>I can’t say I’m especially fond of the Javadoc APIs. In particular,
although you need to know what imports a class has in order to
correctly resolve the names of types, the public APIs provide no
access to that information. In the end, I applied an old maxim:</p>

<blockquote>
  <p><em>If brute force doesn’t work, you’re not applying enough brute force.</em></p>
</blockquote>

<p>I simply included the Java parser that we use for the transpiler and 
parse the sources myself.</p>

<p>Comments most welcome…</p>

</main><footer><div class="prev-uri"><a href="/mike/2023/07/schema-safety.html">How Safe is your Schema?</a></div><div class="next-uri"><a href="/norm/2023/08/24-icu4j.html">ICU4J and SaxonJ&nbsp;EE</a></div></footer></body>
</html>