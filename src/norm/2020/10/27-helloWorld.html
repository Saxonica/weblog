<?xml version="1.0" encoding="utf-8"?>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>helloWorld.Saxon-JS</title>
  <meta name="author" content="Norm Tovey-Walsh" />
  <meta name="pubdate" content="2020-10-27T12:30:00" />
  <link rel="shortcut icon" href="/img/scicon-032.png" type="image/png" />
</head>
<body>
<h1>helloWorld.Saxon-JS</h1>

<p>What happened was, last Friday I decided to make my first foray
into using <a href="https://www.saxonica.com/saxon-js/">Saxon-JS</a>.
I have in mind a personal project that would use it for rendering and
I wanted to get my feet wet.</p>

<p>I was able to follow <a
href="https://www.saxonica.com/saxon-js/documentation/">the
documentation</a> and pretty quickly I had it up and running. But
along the way, I stumbled a couple of times. I didn’t read the documentation
carefully enough in one case and in another, I introduced a typo into a URI.</p>

<p>What I would have liked was a simple project that pulled all the
pieces together, one where I could build it and see it working, and
then begin to hack on it.</p>

<p>Since I didn’t find one of those, I built one:
<a href="https://github.com/Saxonica/helloWorldJS">https://github.com/Saxonica/helloWorldJS</a>.
</p>

<p>On the plus side, this project demonstrates both replacing and
appending to web page content with an XSLT transformation, responding
to user events, and calling external JavaScript libraries.</p>

<p>On possibly the less plus side, I’ve used Gradle to pull all the
pieces together. You might argue that obfuscates things a little bit,
if you aren’t familiar with Gradle, but I wanted to put things in the
context of an actual project build and that’s what I use for builds
these days. PRs for branches that demonstrate Make or Ant or your
build tool of choice are welcome. That’s not meant to be the
interesting part.</p>

<p>There are three branches.</p>

<dl>
<dt><code>main</code></dt>
<dd>This branch is the simplest. The HTML page fires off a Saxon JS stylesheet
that transforms an XML document and updates the page with the result.
</dd>
<dt><code>use-script</code></dt>
<dd>This branch does basically the same thing, but instead of loading the XML
document by making another request to the server, the document is embedded in the
initial HTML document in a <code>script</code> element. It was an experiment I wanted
to try. It avoids a round trip to the server to get the XML document at the cost
of having to extract and parse the document from the HTML.
</dd>
<dt><code>render-commonmark</code></dt>
<dd>The personal project I’m thinking of converting to use Saxon-JS
stores some content in <a href="https://commonmark.org/">CommonMark</a>.
I thought it would be interesting to see if I could call an external JavaScript library
to convert that into HTML and then transform it. Yes, I can.
The JavaScript in <code>src/main/js/start.js</code> is a bit cleaner in this
branch, too.
</dd>
</dl>

<p>All three branches include a button that responds (by running an XSLT template
in the stylesheet) when you click it.</p>

<p>I’ve <a href="https://saxonica.github.io/helloWorldJS/">published</a>
the simplest version online, if you just want to see it in all it’s dull glory.</p>

</body>
</html>
